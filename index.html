<!DOCTYPE html>
<html>
<head>
   <script src="https://d3js.org/d3.v5.min.js"></script>
   <style>

      body {
         background-color: black; color: white;
      }

      #chart_01 svg {
         border: 1px solid white;
      }

      .bar {
         fill: steelblue;
      }

         .bar:hover {
            fill: brown;
         }
   </style>
</head>
<body>
   <h1>Big Orange Brain</h1>
   <h2>Chart 01 - Sample</h2>
   <div id="chart_01"></div>
   <script>
      var width = 600, height = 400;
      var margin = {top: 20, right: 20, bottom: 30, left: 50};
      var sub_width = width - margin.left - margin.right;
      var sub_height = height - margin.top - margin.bottom;

      var chart_01 = d3.select("#chart_01")
         .append("svg")
         .attr("width", width)
         .attr("height", height);

      var g = chart_01.append("g").attr("transform", "translate(" + margin.left + "," + margin.top + ")");

      var x = d3.scaleBand()
         .rangeRound([0, sub_width])
         .padding(0.1);

      var y = d3.scaleLinear()
         .rangeRound([sub_height, 0]);

      d3.csv("brain.csv").then(function (data) {
         x.domain(data.map(function (d) {
            return d.Run;
         }));
         y.domain([0, d3.max(data, function (d) {
            return Number(d.Speed);
         })]);

         g.append("g")
            .attr("transform", "translate(0," + sub_height + ")")
            .call(d3.axisBottom(x))
            .append("text")
            .attr("fill", "#ffffff")
            .attr("transform", "translate(" + sub_width / 2 + ", 26)")
            .style("text-anchor", "middle")
            .text("My X label");

         g.append("g")
            .call(d3.axisLeft(y))
            .append("text")
            .attr("fill", "#ffffff")
            .attr("transform", "rotate(-90)")
            //.attr("transform", "translate(" + -(sub_height / 2) + "," + -margin.left +")")
            .attr("y", -margin.left)
            .attr("x", -(sub_height / 2))
            .attr("dy", "1em")
            .attr("text-anchor", "middle")
            .text("My Y label");

         g.selectAll(".bar")
            .data(data)
            .enter()
            .append("rect")
            .attr("class", "bar")
            .attr("x", function (d) {
               return x(d.Run);
            })
            .attr("y", function (d) {
               return sub_height - y(Number(d.Speed));
            })
            .attr("width", x.bandwidth())
            .attr("height", function (d) {
               return y(Number(d.Speed));
            });
      });
   </script>
</body>
</html>
